:root{
  --bg: #0b1220;          /* dark background */
  --bg-elev: #111827;     /* elevated surfaces */
  --txt: #e5e7eb;         /* primary text */
  --muted: #9ca3af;       /* secondary text */
  --brand: #3b82f6;       /* accent */
  --brand-2:#22d3ee;      /* accent 2 */
  --card:#0f172a;         /* card */
  --border:#1f2a44;       /* borders */
}
:root.light{
  --bg:#ffffff;
  --bg-elev:#f8fafc;
  --txt:#0f172a;
  --muted:#475569;
  --brand:#2563eb;
  --brand-2:#06b6d4;
  --card:#ffffff;
  --border:#e2e8f0;
}
html{scroll-behavior:smooth}
body{
  margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background:var(--bg); color:var(--txt); line-height:1.6;
}
/* Prevent horizontal overflow and blank right gutter on zoom */
html, body{max-width:100%; overflow-x:hidden}
.container{max-width:1100px; margin:auto; padding:0 20px}
/* Navbar */
.nav{position:sticky; top:0; z-index:50; backdrop-filter:saturate(180%) blur(8px); background:color-mix(in srgb, var(--bg) 80%, transparent); border-bottom:1px solid var(--border)}
.nav-inner{display:flex; align-items:center; justify-content:space-between; height:64px}
.brand{font-weight:800; letter-spacing:.3px}
.brand a{color:var(--txt); text-decoration:none}
.nav a{color:var(--muted); text-decoration:none; margin-left:18px}
.nav a:hover{color:var(--txt)}
.nav a[aria-current="page"]{color:var(--txt); font-weight:700}
.menu{display:flex; align-items:center}
.hamburger{display:none; background:none; border:1px solid var(--border); color:var(--txt); padding:8px 10px; border-radius:10px}
/* Hero */
.hero{padding:88px 0 56px; text-align:center}
.kicker{font-size:14px; color:var(--muted); letter-spacing:.2em; text-transform:uppercase}
h1{font-size:clamp(32px, 6vw, 54px); line-height:1.1; margin:10px 0 6px}
.sub{font-size:clamp(16px, 3.2vw, 20px); color:var(--muted); max-width:720px; margin:0 auto 24px}
.cta{display:inline-flex; gap:12px}
.btn{padding:12px 18px; border-radius:12px; border:1px solid var(--border); background:linear-gradient(135deg, color-mix(in srgb, var(--brand) 20%, transparent), color-mix(in srgb, var(--brand-2) 20%, transparent)); color:var(--txt); font-weight:600}
.btn.secondary{background:transparent}
.btn:focus{outline:3px solid color-mix(in srgb, var(--brand) 40%, transparent)}
/* Sections */
section{padding:64px 0; border-top:1px solid var(--border)}
section:first-of-type{border-top:none}
.grid{display:grid; gap:18px}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
.grid.cols-2{grid-template-columns:repeat(2,1fr)}
@media (max-width:900px){.grid.cols-3{grid-template-columns:repeat(2,1fr)}}
@media (max-width:640px){.grid.cols-3,.grid.cols-2{grid-template-columns:1fr}}
/* Collapse top nav into hamburger on tablets/phones */
@media (max-width:900px){ .menu{display:none} .hamburger{display:block} }
/* Mobile nav layout */
@media (max-width:900px){
  .nav .menu.is-open{
    display:flex; flex-direction:column; align-items:flex-start;
    position:absolute; top:64px; left:0; right:0;
    background:var(--bg); border-bottom:1px solid var(--border);
    padding:12px 20px 16px; gap:10px
  }
  .nav .menu.is-open a{margin:0}
  .hamburger{z-index:10}
}
.card{padding:18px; border:1px solid var(--border); border-radius:16px; background:var(--card)}
.card h3{margin:6px 0 8px}
.muted{color:var(--muted)}
.pill{display:inline-block; font-size:12px; color:var(--brand); background:color-mix(in srgb, var(--brand) 12%, transparent); border:1px solid color-mix(in srgb, var(--brand) 30%, transparent); padding:6px 10px; border-radius:999px}
.footer{padding:40px 0 60px; text-align:center; color:var(--muted)}
.tag{font-weight:700; color:var(--brand); letter-spacing:.08em}
.a-clean{color:var(--brand); text-decoration:none}
.a-clean:hover{text-decoration:underline}
.avatar{width:88px; aspect-ratio:1; height:auto; max-width:100%; border-radius:50%; display:block; margin:0 auto 12px; border:2px solid var(--border)}
/* Avatar background wrapper */
.avatar-wrap{
  --size:88px;          /* avatar image size */
  --pad:14px;           /* visible background ring */
  width:calc(var(--size) + var(--pad) * 2);
  height:calc(var(--size) + var(--pad) * 2);
  margin:0 auto 12px;
  position:relative;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  /* Default decorative background; override with --avatar-bg to use an image */
  background-image:var(--avatar-bg, radial-gradient(circle at 45% 35%, color-mix(in srgb, var(--brand) 35%, transparent), transparent 65%), radial-gradient(circle at 70% 70%, color-mix(in srgb, var(--brand-2) 28%, transparent), transparent 60%));
  background-size:cover;
  background-position:center;
  box-shadow:0 10px 24px color-mix(in srgb, var(--brand) 18%, transparent);
}
.avatar-wrap .avatar{ /* remove margins inside wrapper and use size var */
  margin:0;
  width:var(--size);
}
/* Responsive avatar sizing in hero */
.hero .avatar-wrap{ --size: clamp(96px, 30vw, 200px); }
@media (max-width:640px){
  /* On phones, make avatar fill the screen width safely */
  .hero .avatar-wrap{
    /* total wrapper size equals min(100%, 92vw) */
    --pad: clamp(10px, 4vw, 18px);
    --size: calc(min(100%, 92vw) - var(--pad) * 2);
    width: min(100%, 92vw);
    height: auto;
    aspect-ratio: 1 / 1;
  }
}
@media (max-width:640px){
  .hero{padding:56px 0 32px}
  .cta{flex-direction:column}
  .btn{width:100%; max-width:320px}
}
/* Callout */
.callout{position:relative; overflow:hidden; padding:24px; border-radius:18px; border:1px dashed var(--border)}
.callout::after{content:""; position:absolute; inset:-30% -30% auto auto; width:220px; height:220px; background:radial-gradient(circle at center, color-mix(in srgb, var(--brand) 35%, transparent), transparent 70%)}
/* Code style */
code{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background:color-mix(in srgb, var(--bg-elev) 30%, transparent); padding:2px 6px; border-radius:6px; border:1px solid var(--border)}
/* Accessibility */
.skip{position:absolute; left:-9999px}
.skip:focus{left:12px; top:12px; background:var(--bg-elev); padding:10px 12px; border-radius:10px; border:1px solid var(--border)}
/* Theme toggle */
.toggle{margin-left:12px; border:1px solid var(--border); background:transparent; color:var(--txt); padding:8px 10px; border-radius:10px}

/* Page-specific helpers */
/* About page hero */
.hero-compact{padding:64px 0 24px; text-align:left}
/* CV layout */
.section{padding:24px 0; border-top:1px solid var(--border)}
.grid.cv{grid-template-columns:180px 1fr}
@media (max-width:640px){.grid.cv{grid-template-columns:1fr}}
/* Blog posts */
.post{padding:16px;border:1px solid var(--border);border-radius:12px;background:var(--card);margin-bottom:12px}
/* Marquee gallery (About page) */
.full-bleed{
  /* robust full-bleed with dynamic viewport fallback */
  width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw);
  width:100svw; margin-left:calc(50% - 50svw); margin-right:calc(50% - 50svw);
  overflow-x:clip;
}
@media (max-width:640px){
  /* avoid layout shifts on small screens and zoom */
  .full-bleed{width:100%; margin-left:0; margin-right:0}
}
.marquee{--gap:16px; --speed:40s; --img-h:180px; overflow:hidden; padding:8px 0; mask-image:linear-gradient(90deg, transparent 0, #000 8%, #000 92%, transparent 100%)}
.marquee__track{display:flex; align-items:center; gap:var(--gap); width:max-content; animation:marquee var(--speed) linear infinite; will-change:transform}
.marquee:hover .marquee__track{animation-play-state:paused}
.marquee figure{margin:0; display:flex; flex-direction:column; align-items:center; gap:8px; flex:0 0 auto}
.marquee img{height:var(--img-h); width:auto; border-radius:12px; border:1px solid var(--border); background:var(--card); object-fit:cover}
.marquee figcaption{font-size:13px; color:var(--muted); text-align:center}
@keyframes marquee{from{transform:translateX(0)} to{transform:translateX(-50%)}}
@media (prefers-reduced-motion: reduce){.marquee__track{animation:none}}
/* About page photo strip sizing/speed */
.photos-marquee{--img-h:360px; --speed:50s}
@media (max-width:900px){.photos-marquee{--img-h:260px}}
@media (max-width:640px){.photos-marquee{--img-h:180px; --speed:60s}}
/* --- Renovation additions --- */
/* subtle hero glow background */
.hero{
  --h1: color-mix(in srgb, var(--brand) 12%, transparent);
  --h2: color-mix(in srgb, var(--brand-2) 10%, transparent);
  background:
    radial-gradient(1200px 420px at 15% -10%, var(--h1), transparent 60%),
    radial-gradient(1100px 420px at 85% 0%, var(--h2), transparent 60%);
}

/* Social dropdown */
.dropdown{position:relative; margin-left:12px}
.dropbtn{
  display:inline-flex; align-items:center; gap:6px;
  background:transparent; color:var(--muted); border:1px solid transparent;
  padding:8px 10px; border-radius:10px; cursor:pointer; font:inherit;
}
.dropbtn:hover{color:var(--txt)}
.dropbtn .caret{opacity:.7}
.dropdown-menu{
  display:none; position:absolute; top:calc(100% + 8px); right:0; z-index:60;
  background:var(--bg-elev); border:1px solid var(--border); border-radius:14px;
  box-shadow:0 10px 28px color-mix(in srgb, var(--brand) 18%, transparent);
  padding:8px; min-width:200px;
}
.dropdown.is-open .dropdown-menu{display:block}
.dropdown-menu a.menu-item{
  display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:10px;
  color:var(--txt); text-decoration:none;
}
.dropdown-menu a.menu-item:hover{background:color-mix(in srgb, var(--bg) 80%, transparent)}
.menu-icon{width:18px; height:18px; opacity:.85}

/* Mobile: stack dropdown content with menu */
@media (max-width:900px){
  .nav .menu.is-open .dropdown{width:100%}
  .nav .menu.is-open .dropdown.is-open .dropdown-menu{position:static; display:block; width:100%; margin-top:6px}
}

/* typewriter caret for role */
.tag#role{position:relative; display:inline-block; white-space:nowrap}
.tag#role::after{content:""; display:inline-block; width:1px; height:1em; margin-left:3px; background:currentColor; animation:blink 1s steps(1) infinite}
@keyframes blink{50%{opacity:0}}
@media (prefers-reduced-motion: reduce){.tag#role::after{animation:none}}

/* card microinteractions */
.card{transition:transform .18s ease, background-color .18s ease, border-color .18s ease}
.card:hover{transform:translateY(-2px); border-color:color-mix(in srgb, var(--brand) 35%, var(--border)); background:color-mix(in srgb, var(--card) 90%, var(--brand) 10%)}
